"use strict";(self.webpackChunkreqres_users=self.webpackChunkreqres_users||[]).push([[613],{2613:function(e,s,r){r.r(s),r.d(s,{default:function(){return w}});var a=r(1413),n=r(4925),o=r(9439),t=r(4740),i=r(5383),l=r(8129),d=r(4628),m=r(4600),c=r(2791),u=r(1134),p=r(7689),h={wrapper:"Register_wrapper__TLsii",formBlock:"Register_formBlock__yBRxY",heading:"Register_heading__bM8R8",formGroup:"Register_formGroup__QE24r",formInput:"Register_formInput__zBOWs",error:"Register_error__Y+-60",showHide:"Register_showHide__BpM3r",btn:"Register_btn__s4RJr"},x=r(184),f=["confirmPassword"],_=["username"];function w(){var e=(0,t.T)(),s=(0,p.s0)(),r=(0,c.useState)(!0),w=(0,o.Z)(r,2),b=w[0],j=w[1],g=(0,c.useState)(!0),N=(0,o.Z)(g,2),y=N[0],v=N[1],P=(0,t.C)(i.Hz),k=P.token,R=P.status,Z=(0,u.cI)({mode:"onBlur"}),I=Z.register,S=Z.handleSubmit,B=Z.getValues,q=Z.formState.errors;return(0,c.useEffect)((function(){""!==k.token&&"succeeded"===R&&s("/users")}),[s,k,R]),(0,x.jsx)("div",{className:h.wrapper,children:(0,x.jsxs)("div",{className:h.formBlock,children:[(0,x.jsx)("h2",{className:h.heading,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),(0,x.jsxs)("form",{onSubmit:S((function(s){s.confirmPassword;var r=(0,n.Z)(s,f);e((0,i.io)(r)),localStorage.setItem("meData",JSON.stringify(r)),s.username;var a=(0,n.Z)(s,_);e((0,l.N)(a))})),children:[(0,x.jsxs)("div",{className:h.formGroup,children:[(0,x.jsx)("label",{htmlFor:"username",children:"\u0418\u043c\u044f"}),(0,x.jsx)("input",(0,a.Z)({type:"text",className:h.formInput,style:q.username?{border:"1px solid red"}:{border:"1px solid transparent"}},I("username",{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",minLength:2,maxLength:20,validate:{matchesTwoSymbol:function(e){return B().username===e||"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 2 \u0431\u0443\u043a\u0432\u044b!"}}}))),q.username&&(0,x.jsx)("p",{className:h.error,children:q.username.message})]}),(0,x.jsxs)("div",{className:h.formGroup,children:[(0,x.jsx)("label",{htmlFor:"email",children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"}),(0,x.jsx)("input",(0,a.Z)({style:q.email?{border:"1px solid red"}:{border:"1px solid transparent"},type:"email",className:h.formInput},I("email",{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",pattern:/[a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+/}))),q.email&&(0,x.jsx)("p",{className:h.error,children:q.email.message})]}),(0,x.jsxs)("div",{className:h.formGroup,children:[(0,x.jsx)("label",{htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,x.jsx)("input",(0,a.Z)({style:q.password?{border:"1px solid red"}:{border:"1px solid transparent"},type:b?"password":"text",className:h.formInput},I("password",{required:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d",minLength:6}))),q.password&&(0,x.jsx)("p",{className:h.error,children:q.password.message}),(0,x.jsx)("button",{className:h.showHide,type:"button",onClick:function(){return j(!b)},children:b?(0,x.jsx)(m.J,{name:d.Y.hidePass}):(0,x.jsx)(m.J,{name:d.Y.showPass})})]}),(0,x.jsxs)("div",{className:h.formGroup,children:[(0,x.jsx)("label",{htmlFor:"confirmPassword",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),(0,x.jsx)("input",(0,a.Z)({style:q.confirmPassword?{border:"1px solid red"}:{border:"1px solid transparent"},type:y?"password":"text",className:h.formInput},I("confirmPassword",{required:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",validate:{matchesPreviousPassword:function(e){return B().password===e||"\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0441\u0442\u044c!"}},minLength:6}))),q.confirmPassword&&(0,x.jsx)("p",{className:h.error,children:q.confirmPassword.message}),(0,x.jsx)("button",{className:h.showHide,type:"button",onClick:function(){return v(!y)},children:y?(0,x.jsx)(m.J,{name:d.Y.hidePass}):(0,x.jsx)(m.J,{name:d.Y.showPass})})]}),(0,x.jsx)("button",{type:"submit",className:h.btn,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})})}}}]);
//# sourceMappingURL=613.9ac2cf5d.chunk.js.map